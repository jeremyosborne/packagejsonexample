<!DOCTYPE html>

<html>
<head>
  <title>package.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>package.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p>This file is the source for constructing a <code>package.json</code> file.
JSON is a wonderful interchange format, but due to the fact that the
<a href="http://json.org">JSON Specification</a> does not allow for comments, I find
it horrid for self documenting examples.</p>
<p>JavaScript allows for comments and inherently allows JSON. This file will
act as the source for building a <code>package.json</code> file that also manages this
package.</p>
<p>It is the closest I can get to a self-documenting <code>package.json</code> file.</p>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>The <code>package.json</code> file always consists of one top level object, which is
what we export here in a <a href="http://nodejs.org">Node.js</a> friendly way that
will allow us to build our <code>package.json</code> file. A real <code>package.json</code> file
will not contain the <code>exports =</code> definition, nor any of these comments.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>module.exports = {</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Many of the following <code>package.json</code> parameters are optional depending
on whether or not this package will ever be published, and depending
on how much management we want to delegate to npm. I did not mark
optional vs. not-optional for the parameters, as a <code>package.json</code> file
is by its nature always optional.</p>

            </div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Our npm package name needs to be unique only if we are going to publish
our package into an npm registry. If we aren’t going to publish the
package the name can be anything we want.</p>
<p>Leave off redundant affixes like <code>node-package</code> or <code>package-js</code>.
We know it is JavaScript for Node.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"name"</span>: <span class="hljs-string">"packagejsonexample"</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>A single line, or sometimes slightly longer, description of our package.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"description"</span>: <span class="hljs-string">"A documented package.json file"</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p><a href="http://npmjs.org">npm</a> enforces the X.Y.Z semantic version
scheme that is described at <a href="http://semver.org/">http://semver.org/</a>
and we should follow this versioning for our package.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"version"</span>: <span class="hljs-string">"0.0.5"</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>URL to the homepage for this project. Might be distinct from repository.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"homepage"</span>: <span class="hljs-string">"https://github.com/jeremyosborne/packagejsonexample"</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>An array of keywords used to describe this package to search engines,
mainly for people searching within the npm universe.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"keywords"</span>: [
        <span class="hljs-string">"package.json"</span>,
        <span class="hljs-string">"package"</span>,
        <span class="hljs-string">"example"</span>
    ],</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Where is the source of truth for this code, and what type of repo is it?</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"repository"</span>: {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"git"</span>,
        <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://github.com/jeremyosborne/packagejsonexample.git"</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>File bugs here.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"bugs"</span>: {
        <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://github.com/jeremyosborne/packagejsonexample/issues"</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Every package should have at least one author. There are a couple of
formats for the author. This is the explicit format.
Think BDFL or original author.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"author"</span>: {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"Jeremy Osborne"</span>,
        <span class="hljs-string">"email"</span>: <span class="hljs-string">"jeremywosborne@gmail.com"</span>,
        <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://jeremyosborne.com/"</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>People giving to the project. Same format as the author, except in
as array of people vs. just a single person.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"contributors"</span>: [
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"Jeremy Osborne"</span>,
            <span class="hljs-string">"email"</span>: <span class="hljs-string">"jeremywosborne@gmail.com"</span>,
            <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://jeremyosborne.com/"</span>
        }
    ],</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>What licenses govern this code, and where is the license associated
with this code?
The complex form, “licenses”, is an array of objects.
The simplest form is “license”, and may point to just a string that
represents the standard name of the license, like “MIT”.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"licenses"</span>: [
        {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"MIT"</span>,
            <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://github.com/jeremyosborne/packagejsonexample/blob/master/LICENSE.txt"</span>
        }
    ],</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>If there is a file that should be loaded when require()ing this
folder-as-a-package, declare this file here, relative to our package
structure.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"main"</span>: <span class="hljs-string">"src/package.js"</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Essentially, which Node.js platforms do we support? These are glob
like expressions supported by the
<a href="https://npmjs.org/doc/semver.html">npm semantic version parser</a>:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"engines"</span>: {
        <span class="hljs-string">"node"</span>: <span class="hljs-string">"&gt;= 0.6.x"</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>What other modules/libraries do we require for our own module?
The beauty of this dependencies block is that these modules will
be downloaded magically when we run npm install from within our
directory. npm itself will sort out any dependency conflicts within
our own dependencies and we can be pretty much assured that the
modules we need will be ready to run.</p>
<p>Since json is yucky to hand edit, running the following auto-adds:</p>
<pre><code>npm i some-module-name --save
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"dependencies"</span>: {
        <span class="hljs-string">"fs-extra"</span>: <span class="hljs-string">"0.3.x"</span>,
        <span class="hljs-string">"package-json-validator"</span>: <span class="hljs-string">"~0.5.6"</span>,
        <span class="hljs-string">"async"</span>: <span class="hljs-string">"~0.2.10"</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>What dependencies are useful only for developers?
Installed when we <code>npm install</code> in our working directory, but not
when people require our package in their own package.json. This is the
usual and accepted place to put test frameworks and documentation
tools.</p>
<p>Since json is yucky to hand edit, running the following auto-adds:</p>
<pre><code>npm i some-module-name --save-dev
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"devDependencies"</span>: {
        <span class="hljs-string">"docco"</span>: <span class="hljs-string">"*"</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Should we disallow publishing to npm? Default is false.</p>
<p>NOTE: Previous versions had this marked as true. I have unpublished
this code from npm as it isn’t the sort of code that should be up
on npm (it’s an example, not a useful module).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"private"</span>: <span class="hljs-literal">true</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>npm has can manage a set of standard and non-standard scripts. The
standard set of scripts can be run with:</p>
<pre><code>npm standard-script-name
</code></pre><p>The non-standard scripts can be run with:</p>
<pre><code>npm run-script script-name
</code></pre><p><code>dist</code> is a non-standard script, and can be run with:</p>
<pre><code>npm run-script dist
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-string">"scripts"</span>: {
        <span class="hljs-string">"dist"</span>: <span class="hljs-string">"node dist; node node_modules/.bin/docco src/package.js"</span>
    }
};</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
